{
  "name": "Flutter Dev Environment",

  // 【核心修改】告诉 Codespaces 使用我们自己的 Dockerfile 来构建环境
  "build": {
    "dockerfile": "Dockerfile"
  },

  // 保留 VS Code 插件的自动安装
  "customizations": {
    "vscode": {
      "extensions": [
        "Dart-Code.dart-code",
        "Dart-Code.flutter"
      ]
    }
  },

  // 保留端口转发和环境创建后的命令
  "forwardPorts": [8080],
  "postCreateCommand": "flutter config --enable-web && flutter doctor"
}